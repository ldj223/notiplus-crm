{% extends "base.html" %}
{% block title %}로그인{% endblock %}
{% block body_class %}auth-page{% endblock %}
{% block sidebar %}{% endblock %}
{% block navbar %}{% endblock %}
{% block footer %}{% endblock %}
{% block content %}

<div class="container">
  <div class="row justify-content-center align-items-center min-vh-100">
    <div class="col-12 col-md-8 col-lg-6 col-xl-5">
      <div class="card border-0 shadow-lg">
        <div class="card-body p-5">
          <!-- 로고 및 타이틀 -->
          <div class="text-center mb-4">
            <h2 class="fw-bold text-primary mb-2">광고 플랫폼</h2>
            <p class="text-muted">통합관리 시스템</p>
          </div>

          <!-- 로그인 폼 -->
          <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            
            {% if messages %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              {% for message in messages %}
                {{ message }}
              {% endfor %}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endif %}
            
            <!-- 아이디 입력 -->
            <div class="form-floating mb-3">
              <input type="text" name="username" class="form-control" id="id_username" placeholder="아이디" required>
              <label for="id_username">아이디</label>
            </div>

            <!-- 비밀번호 입력 -->
            <div class="form-floating mb-4">
              <input type="password" name="password" class="form-control" id="id_password" placeholder="비밀번호" required>
              <label for="id_password">비밀번호</label>
            </div>

            <!-- 로그인 버튼 -->
            <div class="d-grid mb-4">
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="bi bi-box-arrow-in-right me-2"></i>로그인
              </button>
            </div>

            <!-- 회원가입 링크 -->
            <div class="text-center">
              <p class="mb-0 text-muted">
                계정이 없으신가요? 
                <a href="{% url 'signup' %}" class="text-primary text-decoration-none">회원가입</a>
              </p>
            </div>
          </form>
        </div>
      </div>

      <!-- 푸터 텍스트 -->
      <div class="text-center mt-4">
        <p class="text-muted small">
          &copy; 2025 광고 플랫폼 통합관리. All rights reserved.
        </p>
      </div>
    </div>
  </div>
</div>

<!-- 폼 유효성 검사 스크립트 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const forms = document.querySelectorAll('.needs-validation');
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    }, false);
  });
});
</script>

{% endblock %}
